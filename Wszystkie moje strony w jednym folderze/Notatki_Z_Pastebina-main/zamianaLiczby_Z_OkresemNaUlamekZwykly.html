<html>
<head>
<title>Zamiana liczby z okresem na ułamek zwykły</title>
</head>
<body>
<div style="white-space:pre;font-family:Consolas;color:#d8dee9;background-color:#303841;-moz-tab-size:4;tab-size:4;"><span style="color:#c695c6;">#include</span> <span style="color:#5fb4b4;">&lt;</span><span style="color:#99c794;">iostream</span><span style="color:#5fb4b4;">></span><br><span style="color:#c695c6;">#include</span> <span style="color:#5fb4b4;">&lt;</span><span style="color:#99c794;">cstring</span><span style="color:#5fb4b4;">></span><br><span style="color:#c695c6;">#include</span> <span style="color:#5fb4b4;">&lt;</span><span style="color:#99c794;">sstream</span><span style="color:#5fb4b4;">></span><br><span style="color:#c695c6;">#include</span> <span style="color:#5fb4b4;">&lt;</span><span style="color:#99c794;">cmath</span><span style="color:#5fb4b4;">></span><br><span style="color:#c695c6;">#include</span> <span style="color:#5fb4b4;">&lt;</span><span style="color:#99c794;">string</span><span style="color:#5fb4b4;">></span><br><span style="color:#c695c6;">#include</span> <span style="color:#5fb4b4;">&lt;</span><span style="color:#99c794;">cstdlib</span><span style="color:#5fb4b4;">></span><br><span style="color:#c695c6;">#include</span> <span style="color:#5fb4b4;">&lt;</span><span style="color:#99c794;">cstdio</span><span style="color:#5fb4b4;">></span><br><br><br><span style="color:#c695c6;">using</span> <span style="color:#c695c6;">namespace</span> std<span style="color:#a6acb9;">;</span><br><br><span style="color:#c695c6;font-style:italic;">char</span> <span style="color:#f97b58;">*</span><span style="color:#5fb4b4;">tr</span><span style="color:#ffffff;">(</span><span style="color:#c695c6;font-style:italic;">char</span> <span style="color:#f97b58;">*</span><span style="color:#f9ae58;">str</span><span style="color:#ffffff;">)</span><br>  <span style="color:#ffffff;">{</span><br>   <span style="color:#ec5f66;">static</span> <span style="color:#c695c6;font-style:italic;">char</span> buff<span style="color:#ffffff;">[</span><span style="color:#f9ae58;">256</span><span style="color:#ffffff;">]</span><span style="color:#a6acb9;">;</span><br>   <span style="color:#c695c6;font-style:italic;">char</span> cp<span style="color:#ffffff;">[</span><span style="color:#ffffff;">]</span><span style="color:#f97b58;">=</span><span style="color:#5fb4b4;">"</span><span style="color:#c695c6;">\245</span><span style="color:#c695c6;">\206</span><span style="color:#c695c6;">\251</span><span style="color:#c695c6;">\210</span><span style="color:#c695c6;">\344</span><span style="color:#c695c6;">\242</span><span style="color:#c695c6;">\230</span><span style="color:#c695c6;">\276</span><span style="color:#c695c6;">\253</span><span style="color:#c695c6;">\244</span><span style="color:#c695c6;">\217</span><span style="color:#c695c6;">\250</span><span style="color:#c695c6;">\235</span><span style="color:#c695c6;">\343</span><span style="color:#c695c6;">\340</span><span style="color:#c695c6;">\227</span><span style="color:#c695c6;">\275</span><span style="color:#c695c6;">\215</span><span style="color:#99c794;">ąćęłńóśżźĄĆĘŁŃÓŚŻŹ</span><span style="color:#5fb4b4;">"</span><span style="color:#a6acb9;">;</span><br>   <span style="color:#c695c6;">if</span><span style="color:#ffffff;">(</span><span style="color:#6699cc;font-style:italic;">strlen</span><span style="color:#ffffff;">(</span>str<span style="color:#ffffff;">)</span><span style="color:#f97b58;">>=</span><span style="color:#c695c6;">sizeof</span><span style="color:#ffffff;">(</span>buff<span style="color:#ffffff;">)</span><span style="color:#ffffff;">)</span> <span style="color:#c695c6;">return</span> str<span style="color:#a6acb9;">;</span><br>   <span style="color:#c695c6;font-style:italic;">char</span> <span style="color:#f97b58;">*</span>bf<span style="color:#f97b58;">=</span>buff<span style="color:#a6acb9;">;</span><br>   <span style="color:#c695c6;">while</span><span style="color:#ffffff;">(</span><span style="color:#f97b58;">*</span>str<span style="color:#ffffff;">)</span><br>     <span style="color:#ffffff;">{</span><br>      <span style="color:#c695c6;font-style:italic;">char</span> <span style="color:#f97b58;">*</span>pos<span style="color:#f97b58;">=</span><span style="color:#6699cc;font-style:italic;">strchr</span><span style="color:#ffffff;">(</span>cp<span style="color:#f97b58;">+</span><span style="color:#f9ae58;">18</span><span style="color:#a6acb9;">,</span><span style="color:#f97b58;">*</span>str<span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><br>      <span style="color:#f97b58;">*</span><span style="color:#ffffff;">(</span>bf<span style="color:#f97b58;">++</span><span style="color:#ffffff;">)</span><span style="color:#f97b58;">=</span>pos<span style="color:#f97b58;">?</span><span style="color:#f97b58;">*</span><span style="color:#ffffff;">(</span>pos<span style="color:#f97b58;">-</span><span style="color:#f9ae58;">18</span><span style="color:#ffffff;">)</span><span style="color:#f97b58;">:</span><span style="color:#f97b58;">*</span>str<span style="color:#a6acb9;">;</span><br>      <span style="color:#f97b58;">++</span>str<span style="color:#a6acb9;">;</span><br>     <span style="color:#ffffff;">}</span><br>   <span style="color:#f97b58;">*</span>bf<span style="color:#f97b58;">=</span><span style="color:#f9ae58;">0</span><span style="color:#a6acb9;">;</span><br>   <span style="color:#c695c6;">return</span> buff<span style="color:#a6acb9;">;</span><br>  <span style="color:#ffffff;">}</span><br><br><br><br><br><br><br>string <span style="color:#5fb4b4;">zamianaLiczby_Z_OkresemNaUlamekZwykly</span><span style="color:#ffffff;">(</span><span style="color:#c695c6;font-style:italic;">float</span> <span style="color:#f9ae58;">liczbaBezOkresu1</span><span style="color:#a6acb9;">,</span> <span style="color:#c695c6;font-style:italic;">float</span> <span style="color:#f9ae58;">okresLiczby1</span><span style="color:#ffffff;">)</span><br><span style="color:#ffffff;">{</span><br>    string sprawdzenie<span style="color:#a6acb9;">,</span> kropka<span style="color:#a6acb9;">,</span> liczbaBezOkresu<span style="color:#a6acb9;">,</span> okresLiczby<span style="color:#a6acb9;">,</span> liczbaDoKonwersji1<span style="color:#a6acb9;">,</span> ulamekZwykly<span style="color:#a6acb9;">,</span> liczbaDoKonwersji2<span style="color:#a6acb9;">,</span> liczbaX1<span style="color:#a6acb9;">;</span><br>    <span style="color:#c695c6;font-style:italic;">float</span> dlugoscOkresu<span style="color:#a6acb9;">,</span> liczbaX<span style="color:#a6acb9;">,</span> liczbaDoKonwersji<span style="color:#a6acb9;">,</span> liczbaPoKonwersji<span style="color:#a6acb9;">;</span><br>    stringstream ss<span style="color:#a6acb9;">,</span> ss1<span style="color:#a6acb9;">,</span> ss2<span style="color:#a6acb9;">,</span> ss3<span style="color:#a6acb9;">;</span><br>    ss <span style="color:#f97b58;">&lt;&lt;</span> liczbaBezOkresu1<span style="color:#a6acb9;">;</span><br>    ss <span style="color:#f97b58;">>></span> liczbaBezOkresu<span style="color:#a6acb9;">;</span><br>    kropka <span style="color:#f97b58;">=</span> <span style="color:#5fb4b4;">"</span><span style="color:#99c794;">.</span><span style="color:#5fb4b4;">"</span><span style="color:#a6acb9;">;</span><br><br>    <span style="color:#c695c6;">if</span> <span style="color:#ffffff;">(</span>liczbaBezOkresu<span style="color:#a6acb9;">.</span><span style="color:#6699cc;">find</span><span style="color:#ffffff;">(</span>kropka<span style="color:#ffffff;">)</span> <span style="color:#f97b58;">!=</span> string<span style="color:#a6acb9;">::</span>npos<span style="color:#ffffff;">)</span><br>    <span style="color:#ffffff;">{</span><br>        <span style="color:#a6acb9;">//</span><span style="color:#a6acb9;">liczbaBezOkresu </span><span style="color:#a6acb9;">= </span><span style="color:#a6acb9;">liczbaBezOkresu </span><span style="color:#a6acb9;">+ </span><span style="color:#a6acb9;">kropka;</span><br>        cout<span style="color:#f97b58;">&lt;&lt;</span> <span style="color:#5fb4b4;">"</span><span style="color:#5fb4b4;">"</span><span style="color:#a6acb9;">;</span><br>    <span style="color:#ffffff;">}</span><br><br>    <span style="color:#c695c6;">else</span><br>    <span style="color:#ffffff;">{</span><br>        liczbaBezOkresu <span style="color:#f97b58;">=</span> liczbaBezOkresu <span style="color:#f97b58;">+</span> kropka<span style="color:#a6acb9;">;</span><br>    <span style="color:#ffffff;">}</span><br><br>    ss1 <span style="color:#f97b58;">&lt;&lt;</span> okresLiczby1<span style="color:#a6acb9;">;</span><br>    ss1 <span style="color:#f97b58;">>></span> okresLiczby<span style="color:#a6acb9;">;</span><br>    dlugoscOkresu <span style="color:#f97b58;">=</span> okresLiczby<span style="color:#a6acb9;">.</span><span style="color:#6699cc;">length</span><span style="color:#ffffff;">(</span><span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><br><br>    liczbaX <span style="color:#f97b58;">=</span> <span style="color:#6699cc;font-style:italic;">pow</span><span style="color:#ffffff;">(</span><span style="color:#f9ae58;">10</span><span style="color:#a6acb9;">,</span> dlugoscOkresu<span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><br><br>    liczbaDoKonwersji1 <span style="color:#f97b58;">=</span> liczbaBezOkresu <span style="color:#f97b58;">+</span> okresLiczby <span style="color:#f97b58;">+</span> okresLiczby <span style="color:#f97b58;">+</span> okresLiczby <span style="color:#f97b58;">+</span> okresLiczby <span style="color:#f97b58;">+</span> okresLiczby <span style="color:#f97b58;">+</span> okresLiczby <span style="color:#f97b58;">+</span> okresLiczby <span style="color:#f97b58;">+</span> okresLiczby <span style="color:#f97b58;">+</span> okresLiczby <span style="color:#f97b58;">+</span> okresLiczby<span style="color:#a6acb9;">;</span><br>    liczbaDoKonwersji <span style="color:#f97b58;">=</span> <span style="color:#6699cc;">stof</span><span style="color:#ffffff;">(</span>liczbaDoKonwersji1<span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><br>    liczbaPoKonwersji <span style="color:#f97b58;">=</span> liczbaDoKonwersji<span style="color:#a6acb9;">;</span><br>    liczbaDoKonwersji <span style="color:#f97b58;">=</span> liczbaDoKonwersji <span style="color:#f97b58;">*</span> liczbaX<span style="color:#a6acb9;">;</span><br><br>    liczbaDoKonwersji <span style="color:#f97b58;">=</span> liczbaPoKonwersji <span style="color:#f97b58;">-</span> liczbaDoKonwersji<span style="color:#a6acb9;">;</span><br>    liczbaDoKonwersji <span style="color:#f97b58;">=</span> <span style="color:#6699cc;font-style:italic;">abs</span><span style="color:#ffffff;">(</span>liczbaDoKonwersji<span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><br>    liczbaX <span style="color:#f97b58;">=</span> liczbaX <span style="color:#f97b58;">-</span> <span style="color:#f9ae58;">1</span><span style="color:#a6acb9;">;</span><br><br><br>    ss2 <span style="color:#f97b58;">&lt;&lt;</span> liczbaDoKonwersji<span style="color:#a6acb9;">;</span><br>    ss2 <span style="color:#f97b58;">>></span> liczbaDoKonwersji2<span style="color:#a6acb9;">;</span><br>    ss3 <span style="color:#f97b58;">&lt;&lt;</span> liczbaX<span style="color:#a6acb9;">;</span><br>    ss3 <span style="color:#f97b58;">>></span> liczbaX1<span style="color:#a6acb9;">;</span><br><br>    ulamekZwykly <span style="color:#f97b58;">=</span> liczbaDoKonwersji2 <span style="color:#f97b58;">+</span> <span style="color:#5fb4b4;">"</span><span style="color:#99c794;">/</span><span style="color:#5fb4b4;">"</span> <span style="color:#f97b58;">+</span> liczbaX1<span style="color:#a6acb9;">;</span><br>    <span style="color:#c695c6;">return</span> ulamekZwykly<span style="color:#a6acb9;">;</span><br><span style="color:#ffffff;">}</span><br><br><br><span style="color:#c695c6;font-style:italic;">int</span> <span style="color:#5fb4b4;">main</span><span style="color:#ffffff;">(</span><span style="color:#ffffff;">)</span><br><span style="color:#ffffff;">{</span><br>    <span style="color:#c695c6;font-style:italic;">float</span> liczbaBezOkresu<span style="color:#a6acb9;">,</span> okresLiczby<span style="color:#a6acb9;">;</span><br>    string ulamekZwykly<span style="color:#a6acb9;">;</span><br>    cout <span style="color:#f97b58;">&lt;&lt;</span> <span style="color:#6699cc;">tr</span><span style="color:#ffffff;">(</span><span style="color:#5fb4b4;">"</span><span style="color:#99c794;">Wprowadź </span><span style="color:#99c794;">liczbę </span><span style="color:#99c794;">bez </span><span style="color:#99c794;">okresu: </span><span style="color:#5fb4b4;">"</span><span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><br>    cin <span style="color:#f97b58;">>></span> liczbaBezOkresu<span style="color:#a6acb9;">;</span><br>    cout <span style="color:#f97b58;">&lt;&lt;</span> <span style="color:#6699cc;">tr</span><span style="color:#ffffff;">(</span><span style="color:#5fb4b4;">"</span><span style="color:#99c794;">Wprowadź </span><span style="color:#99c794;">okres </span><span style="color:#99c794;">liczby: </span><span style="color:#5fb4b4;">"</span><span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><br>    cin <span style="color:#f97b58;">>></span> okresLiczby<span style="color:#a6acb9;">;</span><br>    ulamekZwykly <span style="color:#f97b58;">=</span> <span style="color:#6699cc;">zamianaLiczby_Z_OkresemNaUlamekZwykly</span><span style="color:#ffffff;">(</span>liczbaBezOkresu<span style="color:#a6acb9;">,</span> okresLiczby<span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><br>    cout <span style="color:#f97b58;">&lt;&lt;</span> <span style="color:#6699cc;">tr</span><span style="color:#ffffff;">(</span><span style="color:#5fb4b4;">"</span><span style="color:#c695c6;">\n</span><span style="color:#99c794;">Liczba </span><span style="color:#99c794;">przekonwertowana </span><span style="color:#99c794;">na </span><span style="color:#99c794;">ułamek </span><span style="color:#99c794;">zwykły: </span><span style="color:#5fb4b4;">"</span><span style="color:#ffffff;">)</span> <span style="color:#f97b58;">&lt;&lt;</span> ulamekZwykly<span style="color:#a6acb9;">;</span><br>    <span style="color:#6699cc;font-style:italic;">getchar</span><span style="color:#ffffff;">(</span><span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><span style="color:#6699cc;font-style:italic;">getchar</span><span style="color:#ffffff;">(</span><span style="color:#ffffff;">)</span><span style="color:#a6acb9;">;</span><br>    <span style="color:#c695c6;">return</span> <span style="color:#f9ae58;">0</span><span style="color:#a6acb9;">;</span><br><span style="color:#ffffff;">}</span></div>
</body>
</html>